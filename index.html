<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù†Ø¸Ø§Ù… Ø¥Ù†Ø°Ø§Ø± Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ â€” Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ</title>
<style>
body {
  font-family: "Tajawal", sans-serif;
  background: radial-gradient(circle at center, #001f2b, #000);
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  text-align: center;
}
.container {
  background: rgba(0, 0, 0, 0.8);
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 0 30px rgba(0,255,255,0.2);
  width: 90%;
  max-width: 500px;
}
input {
  width: 90%;
  padding: 12px;
  font-size: 18px;
  border: none;
  border-radius: 10px;
  margin-top: 10px;
  text-align: center;
}
.alert {
  margin-top: 20px;
  font-size: 18px;
  color: #ff5555;
  font-weight: bold;
}
</style>
</head>
<body>
<div class="container">
  <h2>ğŸš¨ Ù†Ø¸Ø§Ù… Ø¥Ù†Ø°Ø§Ø± Ø·ÙˆØ§Ø±Ø¦ â€” Ù…Ø´Ø±ÙÙŠÙ† Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ ğŸš¨</h2>
  <p>Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ (Ù…Ø«Ù„Ø§Ù‹: 0555956147 Ø£Ùˆ 570460094) Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ.</p>
  <input type="text" id="phoneInput" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ Ù‡Ù†Ø§...">
  <div id="alert" class="alert"></div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAyowWAzM5tpmNVxx_1XoxZpQIRSKkRExA",
  authDomain: "al-zahrani-platform.firebaseapp.com",
  projectId: "al-zahrani-platform",
  storageBucket: "al-zahrani-platform.firebasestorage.app",
  messagingSenderId: "69640690245",
  appId: "1:69640690245:web:580a8113c9a751771aa12c"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ù…ØµØ±Ø­ Ø¨Ù‡Ø§:
const alertNumbers = [
  "+966555956147",
  "+966570460094",
  "+966582976776",
  "0555956147",
  "0570460094",
  "0582976776"
];

// Ø±Ø§Ø¨Ø· ØµÙˆØª Ø§Ù„Ø¥Ù†Ø°Ø§Ø± (ÙŠØ´Ø¨Ù‡ Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ)
const sirenUrl = "https://www.soundjay.com/button/sounds/beep-10.mp3";

function playSiren() {
  const audio = new Audio(sirenUrl);
  audio.play();
}

document.getElementById("phoneInput").addEventListener("input", async (e) => {
  const value = e.target.value.trim();
  const alertDiv = document.getElementById("alert");

  if (alertNumbers.includes(value)) {
    alertDiv.textContent = "ğŸš¨ ØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ØµØ±Ø­ Ø¨Ù‡! Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥Ù†Ø°Ø§Ø±...";
    playSiren();

    // ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Firestore
    try {
      await db.collection("alerts").add({
        number: value,
        timestamp: new Date(),
        status: "Activated"
      });
      console.log("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¯Ø« ÙÙŠ Firestore");
    } catch (error) {
      console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„:", error);
    }
  } else {
    alertDiv.textContent = "";
  }
});
</script>
</body>
</html>
